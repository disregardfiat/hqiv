# =============================================================================
# HQIV Configuration File
# =============================================================================
# All parameters from paper/main.tex and paper/maxwell.tex
# Units: SI unless otherwise specified
# =============================================================================

[cosmology]
# Hubble constant [km/s/Mpc]
H0 = 73.2

# Matter density parameter (baryons only in HQIV)
Omega_m = 0.06

# Radiation density parameter (computed from CMB if not set)
# Omega_r = 2.47e-5 / h^2 * (1 + 0.2271 * Neff)

# Effective neutrino species
Neff = 3.046

# CMB temperature [K]
T_CMB = 2.7255

[hqiv_parameters]
# Thermodynamic coefficient from Brodie's overlap integral
# gamma â‰ˆ 0.35-0.45 (default 0.40)
gamma = 0.40

# Exponent for varying G(a) = G0 * (H(a)/H0)^alpha
# Derived from QI galaxy rotation curve matching
alpha_G = 0.6

# Scaling factor from full light-cone average
# Relates minimum acceleration to horizon field
chi = 0.172

# Thermodynamic floor for inertia factor
# Set by saturation of informational-energy budget
f_min = 0.01

# Inertia factor form: 'thermo', 'sqrt', or 'brodie'
# 'thermo' uses Brodie's thermodynamic form (recommended)
inertia_form = thermo

[bullet_cluster]
# Bullet Cluster initial conditions
# Redshift of observation
z_obs = 0.3

# Main cluster mass [Msun]
M_main = 2.5e14

# Subcluster (bullet) mass [Msun]
M_sub = 1.5e14

# Collision velocity [km/s]
v_collision = 4500

# Impact parameter [kpc]
impact_param = 150

# Gas fraction
gas_fraction = 0.15

# NFW concentration parameters
c_main = 4.0
c_sub = 3.5

# Initial separation [Mpc]
initial_separation = 2.0

[simulation]
# PM grid resolution (power of 2)
ncoarse = 8

# Box size [Mpc]
boxlen = 100.0

# Number of particles (per species)
npart_gas = 134217728    # 128^3
npart_galaxies = 16777216  # 32^3

# Time stepping
a_start = 0.5
a_end = 1.0
n_steps = 500

# Mass assignment scheme: 'CIC' or 'TSC'
mass_scheme = TSC

# Linear solver: 'fft', 'fft_7pt', 'multigrid', 'full_fft'
linear_newton_solver = fft

# Gradient stencil order: 2 or 5
gradient_stencil_order = 5

# Number of threads
nthreads = 4

[lensing]
# Ray-tracing parameters
# Source redshift for weak lensing
z_source = 1.0

# Number of light rays per dimension
n_rays = 256

# Born approximation: 'born' or 'full_geodesic'
ray_tracing_mode = born

# Convergence map output size
kappa_map_size = 256

[output]
# Output directory
output_dir = ./output/

# Save interval (in scale factor steps)
save_interval = 10

# Save formats
save_particles = true
save_density = true
save_kappa = true
save_power_spectrum = true

[physical_constants]
# Speed of light [m/s]
c = 2.99792458e8

# Gravitational constant [m^3 kg^-1 s^-2]
G0 = 6.67430e-11

# Planck constant [J s]
hbar = 1.054571817e-34

# Boltzmann constant [J/K]
k_B = 1.380649e-23

# Megaparsec [m]
Mpc = 3.0856775814913673e22

# Gigayear [s]
Gyr = 3.1536e16

# Solar mass [kg]
Msun = 1.98847e30